<project name="Plume" default="sable">

    <property name="sablecc" value="${basedir}/lib/sablecc.jar" />
    <property name="tree-dir"  value="${basedir}/src/plume/" />
    <property name="grammar"     value="${basedir}/src/plume.grammar" />

	<target name="clean"
    	description="Delete directories and files generated by SableCC">
        <delete dir="${tree-dir}/lexer" />
        <delete dir="${tree-dir}/node" />
        <delete dir="${tree-dir}/parser" />
        <delete dir="${tree-dir}/analysis" /> 
    </target>   
	<target name="sable"
		description="Run SableCC on the grammar"
    	depends="clean">
		<java jar="${sablecc}" fork='true'>
		            <arg value="-d" />
		            <arg value="${basedir}/src" />
		            <arg value="${grammar}" />
		        </java>
    </target>   
	
</project>
